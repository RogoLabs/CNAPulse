# CNAPulse Web

This directory contains the static web assets deployed to GitHub Pages.

## Files

### `index.html`
Main dashboard UI displaying CNA anomaly data.

**Features:**
- Responsive design using Tailwind CSS
- Real-time data loading from JSON
- Color-coded anomaly indicators
- Metric cards showing key statistics
- Sortable anomaly table

### `script.js`
Frontend JavaScript for data loading and UI updates.

**Functions:**
- `loadAnomalyData()` - Fetches anomaly data from JSON
- `updateMetadata()` - Updates report metadata display
- `updateMetrics()` - Updates metric cards
- `updateAnomalyTable()` - Renders anomaly table
- `showError()` - Displays error messages

### `anomaly_data.json`
Generated data file containing anomaly analysis results.

**Structure:**
```json
{
  "metadata": {
    "generated_at": "ISO timestamp",
    "monitoring_window_days": 30,
    "baseline_months": 12,
    "total_cnas_analyzed": 123,
    "total_anomalies": 45
  },
  "anomalies": [...]
}
```

This file is automatically generated by `code/analyze_cna_anomalies.py` and committed to the repository by GitHub Actions.

## Deployment

The entire `web/` directory is deployed to GitHub Pages via the workflow defined in `.github/workflows/deploy.yml`.

**Deployment Process:**
1. GitHub Actions runs daily
2. Python script analyzes CVE data
3. Generates `anomaly_data.json`
4. Commits JSON to repository
5. Deploys `web/` folder to GitHub Pages

## Local Development

To test locally:

1. **Start a local server** (required for CORS):
   ```bash
   # Python 3
   python -m http.server 8000 --directory web
   
   # Or use any other HTTP server
   ```

2. **Open in browser**:
   ```
   http://localhost:8000
   ```

3. **View console** for any errors:
   - Open browser DevTools (F12)
   - Check Console tab for JavaScript errors
   - Check Network tab for failed requests

## Customization

### Styling
The UI uses Tailwind CSS loaded via CDN. To customize:
- Modify Tailwind classes in `index.html`
- Adjust colors, spacing, and layout as needed

### Data Display
Edit `script.js` to change how data is displayed:
- Modify table columns
- Add sorting/filtering
- Customize formatting

### Anomaly Thresholds
Threshold logic is in the Python script (`code/analyze_cna_anomalies.py`), not in the web interface. The web interface only displays the results.
